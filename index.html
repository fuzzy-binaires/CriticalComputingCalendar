<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="x-ua-compatible">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="../css/style.css" />

<body>

	<h2 id="date">Date</h2>
	<h1 id="name">Name of the Person</h1>
	<p id="description">Description</p>
	<footer id="footer">Source, or link</footer>

	<script>


		// var date = document.getElementsByTagName("h1");
		// var name = document.getElementsByTagName("h2");
		// var description = document.getElementsByTagName("p");
		// var footer = document.getElementsByTagName("footer");

		// SCRIPT TO GET DATA AND FILL IN THE TAGS

		getEphemerisFile(); // ARGUMENT = dateFile.md




		function getEphemerisFile() {

			var urls = ["md/entry01.md"];
			xhrDoc = new XMLHttpRequest();
			xhrDoc.open('GET', urls[0], true)
			if (xhrDoc.overrideMimeType)
				xhrDoc.overrideMimeType('text/plain; charset=x-user-defined')
			xhrDoc.onreadystatechange = function () {
				if (this.readyState == 4) {
					if (this.status == 200) {
						var data = this.response; //Here is a string of the text data 
						console.log(data);
						processRawData(data);
					} else {

					}

				}
			}
			xhrDoc.send() //sending the request
		}

		function processRawData(rawData) {

			var splitted = rawData.split("\n");
			var separator = "=";
			// DATE
			date = splitted[0].split(separator)[1].trim();
			document.getElementById("date").innerText = date;

			// NAME
			name = splitted[1].split(separator)[1].trim();
			document.getElementById("name").innerText = name;

			// SOURCE
			source = splitted[2].split(separator)[1].trim();
			document.getElementById("footer").innerText = source;

			// DESCRIPTION
			description = splitted[3].split(separator)[1].trim();
			document.getElementById("description").innerText = description;


		}

	</script>

</body>

</html>